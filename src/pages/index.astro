---
import '../styles/global.css';
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import KeepInTouch from '../components/KeepInTouch.astro';
import Footer from '../components/Footer.astro';
import Technologies from '../components/Technologies.astro';
import Courses from '../components/Courses.astro';
import Projects from '../components/Projects.astro';
import HeaderNavbar from '../components/HeaderNavbar.astro';
---

<Layout>
	<main class="min-h-screen relative">
		<HeaderNavbar />
		<Hero />
		<Technologies />
		<Projects />
		<Courses />
		<KeepInTouch />
		<Footer />
	</main>
</Layout>

<script>
	// Mobile menu toggle with smooth animation
	const mobileMenuButton = document.getElementById('mobile-menu-button');
	const mobileMenu = document.getElementById('mobile-menu');
	let isMenuOpen = false;

	if (mobileMenuButton && mobileMenu) {
		mobileMenuButton.addEventListener('click', () => {
			isMenuOpen = !isMenuOpen;

			// Update max-height for smooth animation
			if (isMenuOpen) {
				mobileMenu.style.maxHeight = '100vh';
				mobileMenu.style.height = '100vh';
			} else {
				mobileMenu.style.maxHeight = '0';
			}
		});

		// Close menu when clicking on a link
		const mobileLinks = mobileMenu.querySelectorAll('a');
		mobileLinks.forEach((link) => {
			link.addEventListener('click', () => {
				isMenuOpen = false;
				mobileMenu.style.maxHeight = '0';
			});
		});

		// Update max-height on window resize
		window.addEventListener('resize', () => {
			if (isMenuOpen) {
				mobileMenu.style.maxHeight = '100vh';
			}
		});
	}
</script>
